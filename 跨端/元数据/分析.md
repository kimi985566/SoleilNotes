# 分析

## 大前端开发问题

1. 动态化能力不足：平台政策风险（iOS）场景局限（页面级）
2. 传统UI开发流程效率不高：设计 --> 代码】大部分工作相对简单却费时
3. 跨端方案各有缺陷
    - 性能（RN）
    - 动态化（Flutter）
    - 兼容性问题（RN、Taro）
    - 包大小（Flutter）

## 最佳实践目标

1. 动态化：没有政策风险，组件/模块级别的动态化
2. 开发提效
   - 简化【设计 --> 代码】转换间的大量重复机械工作
   - 减少UI bug
3. 跨平台
   - 一套元数据驱动Android、iOS、H5、小程序...多平台
   - 各端自研引擎保证跨端UI和交互的一致性，原生性能，基本不影响包体积

## 元数据驱动

前端根据预先确定好的数据结构进行建模和适配，从而构建一个完全由数据驱动动态生成界面

- 不需要预先定义界面布局
- 不需要预先定义逻辑和计算
- 不需要预先定义交互

## DSL

- 基于JSON的树状结构
- Node节点
  - 包括View、Text、Image、List、ViewPager等基础Type和可扩展的自定义View
  - Style - View属性
  - Layout - Flexbox布局
- 触发动作 Action
  - LifeCycle - 生命周期
  - Event - 事件

## 流程

1. DSL解析
2. 布局计算：Yoga - 在Android和iOS原生实现Flex布局
3. 数据绑定：支持自定义API请求和数据 -> 界面刷新
4. 方法实现 Action：提供平台基础能力（业务方可扩展）
5. 组件: DSL node映射到基础组件和自定义组件（业务方可扩展）

## Backend For Frontend

Backend For Frontend（服务于前端的后端）- 面向前端提供api，面向后端请求数据

- 由前端业务侧开发，后端无需理解业务
- 按需请求字段（GraphQL），节省流量，减少数据泄露风险
- 合并前端API，减少开发复杂度，提高用户体验
- 处理部分逻辑和计算，弥补元数据驱动的不足
